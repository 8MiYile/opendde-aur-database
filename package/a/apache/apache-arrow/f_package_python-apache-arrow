package_python-apache-arrow() {
    pkgdesc="Language-independent columnar memory format for flat and hierarchical data (Python interface)"
    depends=('arrow' 'python' 'python-numpy')
    provides=('python-pyarrow')
    conflicts=('python-pyarrow')

    cd "$srcdir/arrow-$pkgbase-$pkgver/python"
    PIP_CONFIG_FILE=/dev/null pip install \
        --ignore-installed \
        --isolated \
        --no-deps \
        --root "$pkgdir" \
        dist/pyarrow*.whl

    find "$pkgdir/usr" -path '*/pyarrow*/tests*' -delete
    find "$pkgdir/usr" -type f -iname '*.cc' -delete
    find "$pkgdir/usr" -type f -iname '*.cpp' -delete
    find "$pkgdir/usr" -type f -iname '*.h' -delete
    find "$pkgdir/usr" -type f -iname '*.hpp' -delete
    find "$pkgdir/usr" -type f -iname '*.pxd' -delete
    find "$pkgdir/usr" -type f -iname '*.pxi' -delete
    find "$pkgdir/usr" -type f -iname '*.pyx' -delete
    find "$pkgdir/usr" -type d -empty -delete
}
