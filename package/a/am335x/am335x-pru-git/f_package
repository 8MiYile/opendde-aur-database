package() {
    cd "$srcdir/$_gitname"

    pushd pru_sw/utils
    install -Dm644 LICENCE.txt "$pkgdir/usr/share/licenses/$pkgname/LICENCE.txt"
    install -Dm755 pasm "$pkgdir/usr/bin/pasm"
    popd

    pushd pru_sw/app_loader/python/prussdrv
    install -d "$pkgdir/usr/lib/python3.6/site-packages/prussdrv"
    cp *.py    "$pkgdir/usr/lib/python3.6/site-packages/prussdrv"
    popd

    pushd pru_sw
    install -d "$pkgdir/usr/share/$pkgname"
    cp -r example_apps "$pkgdir/usr/share/$pkgname"
    cp -r old_example  "$pkgdir/usr/share/$pkgname"
    popd

    pushd pru_sw/app_loader/include
    install -d "$pkgdir/usr/include"
    cp *.h     "$pkgdir/usr/include"
    popd

    pushd pru_sw/app_loader/lib
    install -d "$pkgdir/usr/lib"
    cp lib*    "$pkgdir/usr/lib"
    popd

    # compatibility
    install -d "$pkgdir/etc/modprobe.d"
    echo "alias uio_pru uio_pruss" > "$pkgdir/etc/modprobe.d/pru.conf"

    if [[ "$_with_docs" == "false" ]]; then
        msg "Skipping PDF docs."
        return
    fi
    install -d "$pkgdir/usr/share/doc/$pkgname"
    cd "$srcdir/$_gitname"
    cp *.pdf "$pkgdir/usr/share/doc/$pkgname"
    cd Documentation
    cp *.pdf "$pkgdir/usr/share/doc/$pkgname"
}
