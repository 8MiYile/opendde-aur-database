package_algorithms-library-git() {
	depends=('tclap' 'libxml2' 'readline')
	optdepends=('graphviz: Visualize data structures')
	provides=('algorithms-library')
	conflicts=('algorithms-library')

	cd "$_pkgbase/build"
	make DESTDIR="$pkgdir" install

	# remove gui parts
	mkdir -p gui/usr/lib gui/usr/bin gui/usr/include/algorithms-library

	# move binaries
	mv -f $pkgdir/usr/bin/agui2 gui/usr/bin

	# move libraries
	mv -f $pkgdir/usr/lib/libalib2gui* gui/usr/lib

	# move includes
	pushd ../alib2gui/src
	for file in $(find . -name "*.h" -o -name "*.hpp"); do
		mkdir -p $(dirname "../../build/gui/usr/include/algorithms-library/$file")
		mv $pkgdir/usr/include/algorithms-library/$file ../../build/gui/usr/include/algorithms-library/$file
	done
	popd
}
