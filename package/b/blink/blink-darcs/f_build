build() {
	msg "Connecting to Darcs server for $_darcsmod..."
  
	if [[ -d "$srcdir/$_darcsmod/_darcs" ]]; then
		msg2 "Updating local Darcs repository..."
		cd "$srcdir/$_darcsmod"
		darcs pull -a "$_darcstrunk/$_darcsmod"
	else
		msg2 "Downloading Darcs repository..."
		darcs get --lazy "$_darcstrunk/$_darcsmod"
	fi
  
	msg2 "Cloning for build..."
	[[ -d "$srcdir/$_darcsmod-build" ]] && rm -rf "$srcdir/$_darcsmod-build"
	cp -r "$srcdir/$_darcsmod" "$srcdir/$_darcsmod-build"

	msg "Starting build..."
	cd "$srcdir/$_darcsmod-build"
	python2 setup.py build
}
