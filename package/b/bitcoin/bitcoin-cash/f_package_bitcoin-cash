package_bitcoin-cash() {
  pkgdesc="Bitcoin Cash Node with bitcoind, bitcoin-cli, bitcoin-tx, bitcoin-seeder"
  provides=('bitcoin-cli' 'bitcoin-daemon' 'bitcoin-tx' 'bitcoin-seeder' 'bitcoin-cash-node')
  conflicts=('bitcoin-cli' 'bitcoin-daemon' 'bitcoin-tx' 'bitcoin-seeder' 'bitcoin-cash-node')
  depends=('boost-libs' 'libevent' 'desktop-file-utils' 'qt5-base' 'protobuf' 'openssl' 'miniupnpc' 'zeromq' 'qrencode')

  cd "$srcdir/bitcoin-cash-node-v$pkgver"

  msg2 'Installing license...'
  install -Dm 644 COPYING -t "$pkgdir/usr/share/licenses/${pkgname}"

  msg2 'Installing documentation...'
  install -dm 755 "$pkgdir/usr/share/doc/bitcoin"
  for _doc in \
    $(find doc -maxdepth 1 -type f -name "*.md" -printf '%f\n') \
    release-notes; do
      cp -dpr --no-preserve=ownership "doc/$_doc" \
        "$pkgdir/usr/share/doc/bitcoin/$_doc"
  done

  pushd build
  msg2 'Installing executables and man pages...'
  cmake -DCOMPONENT=bitcoind -P cmake_install.cmake
  cmake -DCOMPONENT=bitcoin-seeder -P cmake_install.cmake
  popd

  msg2 "Installing ${_bitcoin}.conf..."
  install -Dm 600 "$srcdir/${_bitcoin}.conf" -t "$pkgdir/etc/bitcoin/"

  msg2 'Installing bitcoin.service...'
  install -Dm 644 "$srcdir/${_bitcoin}.service" -t "$pkgdir/usr/lib/systemd/system/"
  install -Dm 644 "$srcdir/${_bitcoin}-reindex.service" \
    -t "$pkgdir/usr/lib/systemd/system/"

  msg2 "Installing ${_bitcoin}.logrotate..."
  install -Dm 644 "$srcdir/${_bitcoin}.logrotate" "$pkgdir/etc/logrotate.d/bitcoin"

  msg2 'Installing bash completion...'
  for _compl in bitcoin-cli bitcoin-tx bitcoind; do
    install -Dm 644 "contrib/${_compl}.bash-completion" \
      "$pkgdir/usr/share/bash-completion/completions/$_compl"
  done

  install -vDm 644 "../${_bitcoin}.conf" -t "${pkgdir}/etc/bitcoin/"
  install -vDm 644 "../${pkgname}.sysusers" "${pkgdir}/usr/lib/sysusers.d/${pkgname}.conf"
  install -vDm 644 "../${pkgname}.tmpfiles" "${pkgdir}/usr/lib/tmpfiles.d/${pkgname}.conf"
}
